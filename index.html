<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Muzio Prime AI Ultimate Edition</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body data-theme="dark">

    <div id="system-overlay">
        <div class="loader-content" onclick="initializeSystem()">
            <div class="fingerprint-scanner">
                <i class="fas fa-fingerprint"></i>
                <div class="scan-line"></div>
            </div>
            <h2>System Ready</h2>
            <p>Tap anywhere to Initialize AI & Audio</p>
            <button class="start-btn">LAUNCH APP</button>
        </div>
    </div>

    <div id="toast-container"></div>

    <div id="voice-interface">
        <div class="voice-box">
            <div class="voice-waves">
                <span></span><span></span><span></span><span></span><span></span>
            </div>
            <p id="voice-status">Listening...</p>
            <p class="voice-tips">Try saying: "Play Music", "Change Theme", "Volume 100"</p>
        </div>
    </div>

    <div class="app-wrapper">
        
        <div id="sidebar-backdrop" onclick="toggleSidebar()"></div>
        <aside id="sidebar-menu">
            <div class="sidebar-header">
                <div class="logo-circle"><i class="fas fa-robot"></i></div>
                <div class="logo-text">
                    <h3>Muzio AI</h3>
                    <span>Ultimate v10.0</span>
                </div>
            </div>
            
            <div class="sidebar-scrollable">
                <ul class="nav-list">
                    <li onclick="triggerFileUpload()">
                        <i class="fas fa-file-audio"></i> <span>Import Local Songs</span>
                    </li>
                    <li onclick="openModal('theme-modal')">
                        <i class="fas fa-palette"></i> <span>Theme Customization</span>
                    </li>
                    <li onclick="openModal('eq-modal')">
                        <i class="fas fa-sliders-h"></i> <span>Audio Equalizer</span>
                    </li>
                    <li onclick="openModal('cutter-modal')">
                        <i class="fas fa-cut"></i> <span>Ringtone Cutter</span>
                    </li>
                    <li onclick="openModal('timer-modal')">
                        <i class="fas fa-hourglass-half"></i> <span>Sleep Timer</span>
                    </li>
                    <li class="nav-divider"></li>
                    <li onclick="hardReset()" class="text-danger">
                        <i class="fas fa-trash-alt"></i> <span>Format Database</span>
                    </li>
                </ul>
            </div>
            
            <div class="sidebar-footer">
                <p>Designed for Swapan</p>
            </div>
        </aside>

        <header class="main-header">
            <div class="header-left">
                <button class="icon-btn" onclick="toggleSidebar()">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="header-center">
                <span id="digital-clock">00:00</span>
                <small id="library-status">System Loading...</small>
            </div>

            <div class="header-right">
                <button class="icon-btn" onclick="toggleSearchBar()">
                    <i class="fas fa-search"></i>
                </button>
                <button class="icon-btn mic-btn" onclick="activateVoiceAssistant()">
                    <i class="fas fa-microphone"></i>
                    <div class="mic-pulse-ring"></div>
                </button>
            </div>
        </header>

        <div id="search-panel">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="search-input" placeholder="Search songs, artists or albums..." onkeyup="performSearch()">
            <button class="close-search" onclick="toggleSearchBar()"><i class="fas fa-times"></i></button>
        </div>

        <nav class="nav-tabs">
            <button class="tab-item active" onclick="switchView('tracks')">
                <i class="fas fa-music"></i> Tracks
            </button>
            <button class="tab-item" onclick="switchView('favorites')">
                <i class="fas fa-heart"></i> Favorites
            </button>
            <button class="tab-item" onclick="switchView('ai-mix')">
                <i class="fas fa-sparkles"></i> For You
            </button>
        </nav>

        <main id="content-area">
            
            <div id="view-tracks" class="view-section active">
                <div id="empty-library-msg" class="empty-state">
                    <div class="empty-icon"><i class="fas fa-cloud-upload-alt"></i></div>
                    <h3>Your Library is Empty</h3>
                    <p>Import songs to start the AI Engine</p>
                    <button class="action-btn" onclick="triggerFileUpload()">Import Music Now</button>
                </div>
                <div id="all-songs-list" class="song-list-container"></div>
            </div>

            <div id="view-favorites" class="view-section">
                <div id="fav-songs-list" class="song-list-container"></div>
                <div id="fav-empty-msg" class="empty-state" style="display:none">
                    <div class="empty-icon"><i class="far fa-heart"></i></div>
                    <h3>No Favorites Yet</h3>
                    <p>Tap the heart icon on songs you love</p>
                </div>
            </div>

            <div id="view-ai-mix" class="view-section">
                <div class="ai-banner-card">
                    <div class="banner-text">
                        <h3><i class="fas fa-brain"></i> Mood Mix</h3>
                        <p>Generated based on your listening habits</p>
                    </div>
                    <button class="refresh-mix-btn" onclick="generateAIMix()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                </div>
                <h4 class="section-heading">Suggested for You</h4>
                <div id="ai-grid-container" class="grid-layout"></div>
            </div>

            <div class="bottom-padding"></div>
        </main>

        <button class="fab-add" onclick="triggerFileUpload()">
            <i class="fas fa-plus"></i>
        </button>
        <input type="file" id="hidden-file-input" accept="audio/*" multiple hidden>

        <div id="mini-player-bar" onclick="expandPlayer()">
            <div class="progress-track">
                <div id="mini-progress-fill" class="progress-fill"></div>
            </div>
            <div class="mini-content">
                <img src="https://cdn-icons-png.flaticon.com/512/461/461238.png" id="mini-art" class="mini-art">
                <div class="mini-text">
                    <h4 id="mini-title">Muzio AI</h4>
                    <p id="mini-artist">Select a song</p>
                </div>
                <div class="mini-controls">
                    <button class="mini-btn" onclick="event.stopPropagation(); togglePlayPause()">
                        <i class="fas fa-play" id="mini-play-icon"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="full-player-overlay">
            <div class="player-bg">
                <img id="player-blur-bg" src="">
                <div class="black-overlay"></div>
            </div>
            
            <div class="player-header">
                <button class="p-icon" onclick="collapsePlayer()"><i class="fas fa-chevron-down"></i></button>
                <div class="p-title-box">
                    <span>NOW PLAYING</span>
                    <small>Muzio Library</small>
                </div>
                <button class="p-icon" onclick="openModal('eq-modal')"><i class="fas fa-sliders-h"></i></button>
            </div>

            <div class="player-art-box">
                <div class="art-glow"></div>
                <img src="https://cdn-icons-png.flaticon.com/512/461/461238.png" id="main-art">
            </div>

            <div class="player-info">
                <div class="info-text">
                    <h2 id="main-title">Song Title</h2>
                    <p id="main-artist">Artist Name</p>
                </div>
                <button class="fav-toggle-btn" onclick="toggleCurrentFavorite()">
                    <i class="far fa-heart" id="main-fav-icon"></i>
                </button>
            </div>

            <div class="player-seeker">
                <div class="time-labels">
                    <span id="current-time">0:00</span>
                    <span id="total-duration">0:00</span>
                </div>
                <input type="range" id="main-seeker" value="0" max="100" step="0.1">
            </div>

            <div class="player-controls">
                <button class="ctrl-btn secondary" onclick="showToast('Shuffle Toggled')"><i class="fas fa-random"></i></button>
                <button class="ctrl-btn primary" onclick="playPreviousSong()"><i class="fas fa-step-backward"></i></button>
                <button class="play-pause-btn" onclick="togglePlayPause()">
                    <i class="fas fa-play" id="main-play-icon"></i>
                </button>
                <button class="ctrl-btn primary" onclick="playNextSong()"><i class="fas fa-step-forward"></i></button>
                <button class="ctrl-btn secondary" onclick="showToast('Repeat Toggled')"><i class="fas fa-redo"></i></button>
            </div>
            
            <div class="volume-container">
                <i class="fas fa-volume-down"></i>
                <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="1" oninput="changeVolume(this.value)">
                <i class="fas fa-volume-up"></i>
            </div>
        </div>

        <div id="theme-modal" class="modal-backdrop">
            <div class="modal-content">
                <h3>Select Interface Theme</h3>
                <div class="theme-options-grid">
                    <div class="theme-card gradient-purple" onclick="applyTheme('purple')">
                        <div class="check-mark"><i class="fas fa-check"></i></div>
                        <span>Neon Purple</span>
                    </div>
                    <div class="theme-card gradient-blue" onclick="applyTheme('blue')">
                        <div class="check-mark"></div>
                        <span>Ocean Blue</span>
                    </div>
                    <div class="theme-card gradient-green" onclick="applyTheme('green')">
                        <div class="check-mark"></div>
                        <span>Cyber Green</span>
                    </div>
                    <div class="theme-card gradient-red" onclick="applyTheme('red')">
                        <div class="check-mark"></div>
                        <span>Mars Red</span>
                    </div>
                </div>
                <button class="close-modal-btn" onclick="closeModal('theme-modal')">Close Menu</button>
            </div>
        </div>

        <div id="eq-modal" class="modal-backdrop">
            <div class="modal-content eq-content">
                <div class="eq-head">
                    <h3>Equalizer</h3>
                    <span class="pro-badge">PRO</span>
                </div>
                <div class="eq-bands-container">
                    <div class="eq-band-col">
                        <input type="range" orient="vertical" min="-12" max="12" value="0" oninput="updateEQ(0,this.value)">
                        <span>60Hz</span>
                    </div>
                    <div class="eq-band-col">
                        <input type="range" orient="vertical" min="-12" max="12" value="0" oninput="updateEQ(1,this.value)">
                        <span>230Hz</span>
                    </div>
                    <div class="eq-band-col">
                        <input type="range" orient="vertical" min="-12" max="12" value="0" oninput="updateEQ(2,this.value)">
                        <span>910Hz</span>
                    </div>
                    <div class="eq-band-col">
                        <input type="range" orient="vertical" min="-12" max="12" value="0" oninput="updateEQ(3,this.value)">
                        <span>4kHz</span>
                    </div>
                    <div class="eq-band-col">
                        <input type="range" orient="vertical" min="-12" max="12" value="0" oninput="updateEQ(4,this.value)">
                        <span>14kHz</span>
                    </div>
                </div>
                <button class="close-modal-btn" onclick="closeModal('eq-modal')">Apply Settings</button>
            </div>
        </div>

        <div id="cutter-modal" class="modal-backdrop">
            <div class="modal-content">
                <h3>MP3 Cutter</h3>
                <div class="waveform-visual">
                    <div class="wave-bars-anim">
                        <span></span><span></span><span></span><span></span><span></span><span></span>
                        <span></span><span></span><span></span><span></span><span></span><span></span>
                    </div>
                </div>
                <div class="time-range-inputs">
                    <input type="text" value="00:00" readonly>
                    <span>to</span>
                    <input type="text" value="00:30" readonly>
                </div>
                <div class="modal-footer-btns">
                    <button class="primary-modal-btn" onclick="simulateCut()">Save Cut</button>
                    <button class="secondary-modal-btn" onclick="closeModal('cutter-modal')">Cancel</button>
                </div>
            </div>
        </div>

        <div id="timer-modal" class="modal-backdrop">
            <div class="modal-content">
                <h3>Sleep Timer</h3>
                <div class="timer-options-grid">
                    <button class="timer-btn" onclick="setSleepTimer(10)">10 min</button>
                    <button class="timer-btn" onclick="setSleepTimer(20)">20 min</button>
                    <button class="timer-btn" onclick="setSleepTimer(30)">30 min</button>
                    <button class="timer-btn" onclick="setSleepTimer(60)">1 Hour</button>
                </div>
                <button class="close-modal-btn" onclick="closeModal('timer-modal')">Close</button>
            </div>
        </div>

    </div>

    <audio id="audio-core" crossorigin="anonymous"></audio>
    <script src="script.js"></script>
</body>
</html>
